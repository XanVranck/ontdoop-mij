<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulierpagina</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <h1>Ontdoop mij</h1>
        <nav>
            <ul>

                <li><a href="index.html">Home</a></li>
                <li><a href="ontdoop-mij.html">Ontdoop mij</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h2>Vul het formulier in</h2>
        <b>Dit is de eerste versie van ontdoop-mij.be. </b>
        <p>De e-mail wordt samengesteld op basis van jouw gegevens en wordt hieronder weergegeven in het formulier.</p>
        <p>Je hebt twee opties:
        <ul>
            <li>Je kunt de volledige tekst kopiëren en plakken in je eigen e-mailinbox om het te verzenden.</li>
            <li>Of je kunt op de "Verzenden" knop klikken, waarna je inbox direct wordt geopend en de tekst automatisch
                wordt
                gekopieerd voor verzending. Het enigste dan je nog moet doen is plakken.</li>
        </ul>
        </p>
        <br>
        <form>
            <label for="bisdom">Selecteer een bisdom (meer info kan je <a
                    href="https://www.kerknet.be/kerk-in-vlaanderen" target="_blank">hier</a> vinden) </label>
            <select id="bisdom" name="bisdom">
                <option value=" & ">...</option>
                <option value="bisdom-antwerpen & Schoenmarkt 2, 2000 Antwerpen">Bisdom Antwerpen – Schoenmarkt 2, 2000
                    Antwerpen</option>
                <option value="bisdom-brugge & Heilige Geeststraat 4, 8000">Bisdom Brugge – Heilige Geeststraat 4, 8000
                    Brugge</option>
                <option value="bisdom-gent & Bisdomplein 1, 9000 Gent">Bisdom Gent – Bisdomplein 1, 9000 Gent</option>
                <option value="bisdom-hasselt & Vrijwilligersplein 14, 3500 Hasselt">Bisdom Hasselt – Vrijwilligersplein
                    14, 3500 Hasselt</option>
                <option value="bisdom-mechelen-brussel & Wollenmarkt 14, 2800 Mechelen">Bisdom Mechelen-Brussel –
                    Wollenmarkt 14, 2800 Mechelen</option>
                <option value="diocese-liege & Rue de l’Evêché 25, 4000 Liège">Diocèse de Liège – Rue de l’Evêché 25,
                    4000 Liège</option>
                <option value="diocese-namur & Rue de l’Evêché 1, 5000 Namur">Diocèse de Namur – Rue de l’Evêché 1, 5000
                    Namur</option>
                <option value="diocese-tournai & Place de l’Evêché 1,7500 Tournai">Diocèse de Tournai – Place de
                    l’Evêché 1, 7500 Tournai</option>
            </select>
            <br />
            <br />
            <label for="naame">Voornaam en Achternaam: </label>
            <input type="text" id="naam" name="naam" required>
            <br>
            <label for="geboortedatum">Geboortedatum:</label>
            <input type="text" id="geboortedatum" placeholder="31-01-1990" name="geboortedatum" required>
            <br>
            <label for="doopplaats">Plaats waar ik gedoopt werd:</label>
            <input type="text" id="doopplaats" name="doopplaats" required>
            <br>
            <label for="woonplaatsdoop">Woonplaats toen ik gedoopt werd: </label>
            <input type="text" id="woonplaatsdoop" placeholder="straat nummer, postcode gemeente/stad"
                name="woonplaatsdoop" required>
            <br>
            <label for="woonplaats">Huidige woonplaats: </label>
            <input type="text" id="woonplaats" placeholder="straat nummer, postcode gemeente/stad" name="woonplaats"
                required>
            <br>
            <label for="redenen">Reden(en) voor ontdoping: </label>
            <input type="text" id="redenen" name="redenen">

            <br>
            <label for="email">jouw e-mail:</label>
            <input type="email" id="email" name="email" required>
            <br>
        </form>
        <br />
        <br />
        <br />
        <style>
            blockquote {
                margin: 0 auto;
                max-width: 600px;
                padding: 20px;
                border: 1px solid #ccc;
                border-radius: 5px;
                text-align: center;
            }
        </style>
        <blockquote>
            <button type="button" onclick="copyText()">Copy tekst</button>
            <button type="button" onclick="verzenden()">Copy tekst & verzend</button>
            <span>
                <p id="bisdomemailP">Email bisdom: </p>
                <p>Onderwerp email: Schrappen uit het doopregister</p>
                <p>----------------Alles hierboven mag je invullen als emailadres en onderwerp. Erna kan je dit
                    verwijderen uit de mail----------------</p>
            </span>
            <i>
                <p>Aan:</p>
                <p id="bisdomNaam">Naam (naam van het bisdom)</p>
                <p id="bisdomAdres">Adres (adres van het bisdom)</p>
                <p id="datum">Betreft: Schrappen uit het doopregister op Datum, </p>

                <p>Geachte heer/mevrouw,</p>
                <p>Hierbij maak ik kenbaar dat ik graag wil uittreden uit de Rooms-Katholieke Kerk.</p>

                <p>Mijn gegevens:</p>
                <p id="naamP">Voornaam Achternaam</p>
                <p id="woonplaatsP">Woonplaats</p>
                <p id="geboortedatumP">Geboortedatum</p>
                <p id="doopplaatsP">Plaats waar ik gedoopt werd:</p>
                <p id="woonplaatsdoopP">Woonplaats toen ik gedoopt werd:</p>
                <p id="redenenP">Reden(en) voor ontdoping: </p>

                <p>Graag ontvang ik een bevestiging met de datum wanneer mijn uittreding ingaat.</p>

                <p>Met vriendelijke groeten,</p>
                <p id="naam2P">Voornaam Achternaam</p>
                <p id="emailP"> Email</p>
            </i>
        </blockquote>

        <script>
            const bisdomMetEmail = new Map();
            bisdomMetEmail.set('bisdom-antwerpen', 'secretariaat@bisdomantwerpen.be');
            bisdomMetEmail.set('bisdom-brugge', 'secretariaat.bisdom.brugge@kerknet.be');
            bisdomMetEmail.set('bisdom-gent', 'bisdom.gent@kerknet.be');
            bisdomMetEmail.set('bisdom-hasselt', 'secretariaat@bisdomhasselt.be');
            bisdomMetEmail.set('bisdom-mechelen-brussel', 'aartsbisdom@kerknet.be');
            bisdomMetEmail.set('diocese-liege', 'secretariat.evechedeliege@catho.be');
            bisdomMetEmail.set('diocese-namur', 'secretariat.eveche.namur@skynet.be');
            bisdomMetEmail.set('diocese-tournai', 'secretariat@evechetournai.be');

            //naam van het bisdom
            const selectNaam = document.getElementById('bisdom');
            const naamVanHetBisdom = document.getElementById('bisdomNaam');
            const emailVanHetBisdom = document.getElementById('bisdomemailP');

            selectNaam.addEventListener('change', (event) => {
                const selectedOption = event.target.value.split(' & ')[0];
                naamVanHetBisdom.textContent = `${selectedOption}`;
                emailVanHetBisdom.textContent = `Email bisdom: ${bisdomMetEmail.get(selectedOption)}`;
            });
            //adres van het bisdom
            const selectAdres = document.getElementById('bisdom');
            const adresVanHetBisdom = document.getElementById('bisdomAdres');

            selectAdres.addEventListener('change', (event) => {
                const selectedOption = event.target.value.split(' & ')[1];
                adresVanHetBisdom.textContent = `${selectedOption}`;
            });
            // datum van vandaag
            const datumElement = document.getElementById('datum');
            const today = new Date();
            const formattedDate = `${today.getDate().toString().padStart(2, '0')}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${today.getFullYear()}`;

            datumElement.textContent = `Betreft: Schrappen uit het doopregister op ${formattedDate}, `;

            //voornaam
            const naamInput = document.getElementById('naam');
            const naamElement = document.getElementById('naamP');
            const naam2Element = document.getElementById('naam2P');

            naamInput.addEventListener('input', (event) => {
                naamElement.textContent = event.target.value;
                naam2Element.textContent = event.target.value;
            });

            // //achternaam
            // const achternaamInput = document.getElementById('achternaam');
            // const achternaamElement = document.getElementById('achternaamP');
            // const achternaam2Element = document.getElementById('achternaam2P');

            // achternaamInput.addEventListener('input', (event) => {
            //     achternaamElement.textContent = event.target.value;
            //     achternaam2Element.textContent = event.target.value;
            //     volledigenaamElement.textContent = `${naamElement.textContent} ${achternaamElement.textContent}`;
            // });


            //geboorteplaats
            // const geboorteplaatsInput = document.getElementById('geboorteplaats');
            // const geboorteplaatsElement = document.getElementById('geboorteplaatsP');

            // geboorteplaatsInput.addEventListener('input', (event) => {
            //     geboorteplaatsElement.textContent = event.target.value;
            // });

            //geboortedatum
            const geboortedatumInput = document.getElementById('geboortedatum');
            const geboortedatumElement = document.getElementById('geboortedatumP');

            geboortedatumInput.addEventListener('input', (event) => {
                geboortedatumElement.textContent = event.target.value;
            });

            //doopplaats
            const doopplaats = document.getElementById('doopplaats');
            const doopplaatsElement = document.getElementById('doopplaatsP');

            doopplaats.addEventListener('input', (event) => {
                doopplaatsElement.textContent = `Plaats waar ik gedoopt werd: ${event.target.value}`;
            });

            //woonplaats
            const woonplaats = document.getElementById('woonplaats');
            const woonplaatsElement = document.getElementById('woonplaatsP');
            const woonplaats2Element = document.getElementById('woonplaats2P');

            woonplaats.addEventListener('input', (event) => {
                woonplaatsElement.textContent = `${event.target.value}, `;
                woonplaats2Element.textContent = event.target.value;
            });

            //redenen ontdoping
            const redenen = document.getElementById('redenen');
            const redenenElement = document.getElementById('redenenP');

            redenen.addEventListener('input', (event) => {
                redenenElement.textContent = `redenen voor ontdoping: ${event.target.value}`;
            });

            //woonplaats tijdens doop
            const woonplaatsdoop = document.getElementById('woonplaatsdoop');
            const woonplaatsdoopElement = document.getElementById('woonplaatsdoopP');

            woonplaatsdoop.addEventListener('input', (event) => {
                woonplaatsdoopElement.textContent = `Woonplaats toen ik gedoopt werd: ${event.target.value}`;
            });

            //email
            const email = document.getElementById('email');
            const emailElement = document.getElementById('emailP');

            email.addEventListener('input', (event) => {
                emailElement.textContent = event.target.value;
            });


            copyText = () => {
                const text = document.querySelector('i').innerText;
                const spanText = document.querySelector('span').innerText;

                navigator.clipboard.writeText(spanText + text);
            };

            verzenden = () => {
                var mail = document.createElement("a");
                const text = document.querySelector('i').innerText;
                const emailBisdomElement = document.getElementById('bisdomemailP');
                const email = emailBisdomElement.innerText.split('Email bisdom: ')[1];
                mail.href = `mailto:${email}?subject=Schrappen uit het doopregister`;
                mail.click();
                navigator.clipboard.writeText(text);
            };

            // var form = document.getElementById("formId");
            // form.addEventListener("submit", function (evt) {
            //     console.log('email');
            // });

            // verzenden.addEventListener("click", function () { alert("something"); return false; }, false);

            // verzenden.addEventListener('click', (event) => {
            //     event.preventDefault();
            //     const email = `
            //         Aan:
            //         ${bisdomNaam.textContent}
            //         ${bisdomAdres.textContent}

            //         Betreft: Schrappen uit het doopregister

            //         ${formattedDate}, ${woonplaatsP.textContent},

            //         Geachte heer/mevrouw,

            //         Hierbij maak ik kenbaar dat ik graag wil uittreden uit de Rooms-Katholieke Kerk.

            //         Mijn gegevens:
            //         ${voornaamP.textContent} ${achternaamP.textContent}
            //         ${woonplaatsP.textContent}
            //         ${geboortedatumP.textContent}
            //         Plaats waar ik gedoopt werd: ${doopplaatsP.textContent}
            //         Woonplaats toen ik gedoopt werd: ${woonplaatsdoopP.textContent}

            //         Graag ontvang ik een bevestiging met de datum wanneer mijn uittreding ingaat.

            //         Met vriendelijke groeten,
            //         ${voornaamP.textContent} ${achternaamP.textContent}`;
            // });
        </script>
    </main>
</body>

</html>